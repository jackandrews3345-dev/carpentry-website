<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Casa Madera - Admin Dashboard</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: #f8f9fa;
            color: #343a40;
        }

        .admin-header {
            background: linear-gradient(135deg, #007acc, #40b5d8);
            color: white;
            padding: 20px 0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .admin-nav {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .admin-nav h1 {
            font-size: 1.8rem;
        }

        .admin-nav .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .admin-nav a {
            color: white;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 8px;
            transition: 0.3s ease;
        }

        .admin-nav a:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 20px;
        }

        .admin-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }

        .admin-card {
            background: white;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            transition: 0.3s ease;
        }

        .admin-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
        }

        .admin-card h2 {
            color: #003d5c;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #343a40;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1rem;
            transition: 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #007acc;
            box-shadow: 0 0 0 3px rgba(0, 122, 204, 0.1);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .btn {
            background: linear-gradient(135deg, #007acc, #40b5d8);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 122, 204, 0.3);
        }

        .btn-danger {
            background: linear-gradient(135deg, #dc3545, #e74c3c);
        }

        .btn-success {
            background: linear-gradient(135deg, #28a745, #20c997);
        }

        .gallery-manager {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .gallery-item {
            position: relative;
            aspect-ratio: 1;
            background: #e9ecef;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: 0.3s ease;
        }

        .gallery-item:hover {
            transform: scale(1.05);
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 8px;
        }

        .gallery-item .remove-btn {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #dc3545;
            color: white;
            border: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 12px;
            display: none;
        }

        .gallery-item:hover .remove-btn {
            display: block;
        }

        .upload-area {
            border: 2px dashed #007acc;
            border-radius: 8px;
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: 0.3s ease;
            margin: 20px 0;
        }

        .upload-area:hover {
            background: #f0f8ff;
        }

        .upload-area input {
            display: none;
        }

        .success-message {
            background: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            display: none;
        }

        .quick-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .stat-card h3 {
            color: #007acc;
            font-size: 2rem;
            margin-bottom: 8px;
        }

        .stat-card p {
            color: #6c757d;
            font-size: 0.9rem;
        }

        .email-preview {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            font-family: monospace;
            font-size: 0.9rem;
        }

        .inquiry-item {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            transition: 0.3s ease;
        }

        .inquiry-item:hover {
            background: #e9ecef;
            transform: translateY(-2px);
        }

        .inquiry-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .inquiry-name {
            font-weight: bold;
            color: #007acc;
            font-size: 1.1rem;
        }

        .inquiry-date {
            font-size: 0.85rem;
            color: #6c757d;
        }

        .inquiry-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-bottom: 10px;
            font-size: 0.9rem;
            color: #495057;
        }

        .inquiry-message {
            background: white;
            padding: 12px;
            border-radius: 6px;
            border-left: 4px solid #007acc;
            margin-top: 10px;
        }

        .inquiry-actions {
            text-align: right;
            margin-top: 10px;
        }

        .btn-sm {
            padding: 6px 12px;
            font-size: 0.85rem;
        }

        .gallery-spots {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .gallery-spot {
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
            background: #f8f9fa;
            transition: 0.3s ease;
        }

        .gallery-spot:hover {
            border-color: #007acc;
            background: #f0f8ff;
        }

        .gallery-spot h4 {
            color: #495057;
            margin-bottom: 15px;
            font-size: 1rem;
        }

        .spot-preview {
            width: 100%;
            height: 200px;
            border: 2px dashed #dee2e6;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
            background: white;
            position: relative;
            overflow: hidden;
        }

        .spot-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 6px;
        }

        .placeholder-content {
            text-align: center;
            color: #6c757d;
        }

        .placeholder-content i {
            font-size: 2rem;
            margin-bottom: 10px;
            opacity: 0.5;
        }

        .spot-actions {
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .profile-photo-section {
            text-align: center;
        }

        .profile-preview {
            width: 200px;
            height: 200px;
            border: 3px dashed #dee2e6;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            background: white;
            position: relative;
            overflow: hidden;
        }

        .profile-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }

        .profile-actions {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .map-management {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            margin-top: 20px;
        }

        .map-container {
            background: #e3f2fd;
            border: 2px solid #007acc;
            border-radius: 12px;
            height: 400px;
            position: relative;
            overflow: hidden;
        }

        .location-pins {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
        }

        .location-pins h4 {
            color: #495057;
            margin-bottom: 15px;
        }

        .location-pins h5 {
            color: #495057;
            margin: 20px 0 15px 0;
            padding-top: 20px;
            border-top: 1px solid #e9ecef;
        }

        .location-item {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 10px;
        }

        .location-item h6 {
            color: #007acc;
            margin-bottom: 5px;
        }

        .location-item p {
            color: #6c757d;
            font-size: 0.9rem;
            margin: 0;
        }

        .location-item .remove-location {
            float: right;
            background: none;
            border: none;
            color: #dc3545;
            cursor: pointer;
            padding: 0;
        }

        .bahamas-map {
            width: 100%;
            height: 100%;
            cursor: pointer;
        }

        .map-pin {
            fill: #dc3545;
            stroke: white;
            stroke-width: 2;
            cursor: pointer;
        }

        .map-pin:hover {
            fill: #c82333;
            transform: scale(1.2);
        }

        @media (max-width: 768px) {
            .admin-nav {
                flex-direction: column;
                gap: 15px;
            }

            .admin-grid {
                grid-template-columns: 1fr;
            }

            .inquiry-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 5px;
            }

            .inquiry-details {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Admin Header -->
    <header class="admin-header">
        <nav class="admin-nav">
            <h1><i class="fas fa-tools"></i> Casa Madera Admin</h1>
            <div class="nav-links">
                <a href="index.html" target="_blank"><i class="fas fa-eye"></i> View Website</a>
                <a href="#" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</a>
            </div>
        </nav>
    </header>

    <div class="container">
        <!-- Quick Stats -->
        <div class="quick-stats">
            <div class="stat-card">
                <h3 id="galleryCount">0</h3>
                <p>Gallery Images</p>
            </div>
            <div class="stat-card">
                <h3 id="videoCount">0</h3>
                <p>Videos</p>
            </div>
            <div class="stat-card">
                <h3 id="inquiryCount">0</h3>
                <p>Inquiries Today</p>
            </div>
            <div class="stat-card">
                <h3>24/7</h3>
                <p>Website Status</p>
            </div>
        </div>

        <!-- Admin Panels -->
        <div class="admin-grid">
            <!-- Contact Information -->
            <div class="admin-card">
                <h2><i class="fas fa-address-book"></i> Contact Information</h2>
                <div class="form-group">
                    <label for="businessPhone">Phone Number</label>
                    <input type="tel" id="businessPhone" placeholder="+1 (242) 000-0000">
                </div>
                <div class="form-group">
                    <label for="businessEmail">Email Address</label>
                    <input type="email" id="businessEmail" placeholder="info@casamadera.com">
                </div>
                <div class="form-group">
                    <label for="businessLocation">Location</label>
                    <input type="text" id="businessLocation" placeholder="Nassau, Bahamas">
                </div>
                <button class="btn" onclick="saveContactInfo()">
                    <i class="fas fa-save"></i> Save Contact Info
                </button>
                <div class="success-message" id="contactSuccess">Contact information updated successfully!</div>
            </div>

            <!-- Gallery Management -->
            <div class="admin-card" style="grid-column: 1 / -1;">
                <h2><i class="fas fa-images"></i> Gallery Management</h2>
                <p style="margin-bottom: 20px; color: #6c757d;">Choose exactly where each photo appears on your website by uploading to specific gallery spots.</p>
                
                <div class="gallery-spots">
                    <!-- Gallery Spot 1 -->
                    <div class="gallery-spot">
                        <h4><i class="fas fa-image"></i> Gallery Spot 1 (Top Left)</h4>
                        <div class="spot-preview" id="spot-1">
                            <div class="placeholder-content">
                                <i class="fas fa-plus"></i>
                                <p>Upload Image</p>
                            </div>
                        </div>
                        <div class="spot-actions">
                            <input type="file" id="upload-spot-1" accept="image/*" style="display: none;">
                            <button class="btn btn-sm" onclick="document.getElementById('upload-spot-1').click()">
                                <i class="fas fa-upload"></i> Upload
                            </button>
                            <button class="btn btn-danger btn-sm" onclick="removeSpotImage(1)">
                                <i class="fas fa-trash"></i> Remove
                            </button>
                        </div>
                    </div>
                    
                    <!-- Gallery Spot 2 -->
                    <div class="gallery-spot">
                        <h4><i class="fas fa-image"></i> Gallery Spot 2 (Top Right)</h4>
                        <div class="spot-preview" id="spot-2">
                            <div class="placeholder-content">
                                <i class="fas fa-plus"></i>
                                <p>Upload Image</p>
                            </div>
                        </div>
                        <div class="spot-actions">
                            <input type="file" id="upload-spot-2" accept="image/*" style="display: none;">
                            <button class="btn btn-sm" onclick="document.getElementById('upload-spot-2').click()">
                                <i class="fas fa-upload"></i> Upload
                            </button>
                            <button class="btn btn-danger btn-sm" onclick="removeSpotImage(2)">
                                <i class="fas fa-trash"></i> Remove
                            </button>
                        </div>
                    </div>
                    
                    <!-- Gallery Spot 3 -->
                    <div class="gallery-spot">
                        <h4><i class="fas fa-image"></i> Gallery Spot 3 (Middle Left)</h4>
                        <div class="spot-preview" id="spot-3">
                            <div class="placeholder-content">
                                <i class="fas fa-plus"></i>
                                <p>Upload Image</p>
                            </div>
                        </div>
                        <div class="spot-actions">
                            <input type="file" id="upload-spot-3" accept="image/*" style="display: none;">
                            <button class="btn btn-sm" onclick="document.getElementById('upload-spot-3').click()">
                                <i class="fas fa-upload"></i> Upload
                            </button>
                            <button class="btn btn-danger btn-sm" onclick="removeSpotImage(3)">
                                <i class="fas fa-trash"></i> Remove
                            </button>
                        </div>
                    </div>
                    
                    <!-- Gallery Spot 4 -->
                    <div class="gallery-spot">
                        <h4><i class="fas fa-image"></i> Gallery Spot 4 (Middle Right)</h4>
                        <div class="spot-preview" id="spot-4">
                            <div class="placeholder-content">
                                <i class="fas fa-plus"></i>
                                <p>Upload Image</p>
                            </div>
                        </div>
                        <div class="spot-actions">
                            <input type="file" id="upload-spot-4" accept="image/*" style="display: none;">
                            <button class="btn btn-sm" onclick="document.getElementById('upload-spot-4').click()">
                                <i class="fas fa-upload"></i> Upload
                            </button>
                            <button class="btn btn-danger btn-sm" onclick="removeSpotImage(4)">
                                <i class="fas fa-trash"></i> Remove
                            </button>
                        </div>
                    </div>
                    
                    <!-- Gallery Spot 5 -->
                    <div class="gallery-spot">
                        <h4><i class="fas fa-image"></i> Gallery Spot 5 (Bottom Left)</h4>
                        <div class="spot-preview" id="spot-5">
                            <div class="placeholder-content">
                                <i class="fas fa-plus"></i>
                                <p>Upload Image</p>
                            </div>
                        </div>
                        <div class="spot-actions">
                            <input type="file" id="upload-spot-5" accept="image/*" style="display: none;">
                            <button class="btn btn-sm" onclick="document.getElementById('upload-spot-5').click()">
                                <i class="fas fa-upload"></i> Upload
                            </button>
                            <button class="btn btn-danger btn-sm" onclick="removeSpotImage(5)">
                                <i class="fas fa-trash"></i> Remove
                            </button>
                        </div>
                    </div>
                    
                    <!-- Gallery Spot 6 -->
                    <div class="gallery-spot">
                        <h4><i class="fas fa-image"></i> Gallery Spot 6 (Bottom Right)</h4>
                        <div class="spot-preview" id="spot-6">
                            <div class="placeholder-content">
                                <i class="fas fa-plus"></i>
                                <p>Upload Image</p>
                            </div>
                        </div>
                        <div class="spot-actions">
                            <input type="file" id="upload-spot-6" accept="image/*" style="display: none;">
                            <button class="btn btn-sm" onclick="document.getElementById('upload-spot-6').click()">
                                <i class="fas fa-upload"></i> Upload
                            </button>
                            <button class="btn btn-danger btn-sm" onclick="removeSpotImage(6)">
                                <i class="fas fa-trash"></i> Remove
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Profile Photo Management -->
            <div class="admin-card">
                <h2><i class="fas fa-user-circle"></i> Your Profile Photo</h2>
                <p style="margin-bottom: 20px; color: #6c757d;">Upload your photo that appears in the About section of your website.</p>
                
                <div class="profile-photo-section">
                    <div class="profile-preview" id="profile-preview">
                        <div class="placeholder-content">
                            <i class="fas fa-user"></i>
                            <p>Upload Your Photo</p>
                        </div>
                    </div>
                    <div class="profile-actions">
                        <input type="file" id="profile-upload" accept="image/*" style="display: none;">
                        <button class="btn" onclick="document.getElementById('profile-upload').click()">
                            <i class="fas fa-upload"></i> Upload Photo
                        </button>
                        <button class="btn btn-danger" onclick="removeProfilePhoto()">
                            <i class="fas fa-trash"></i> Remove Photo
                        </button>
                    </div>
                </div>
            </div>

            <!-- Video Management -->
            <div class="admin-card">
                <h2><i class="fas fa-video"></i> Video Management</h2>
                <div class="upload-area" onclick="document.getElementById('videoUpload').click()">
                    <i class="fas fa-film" style="font-size: 2rem; color: #007acc; margin-bottom: 10px;"></i>
                    <p>Click to upload videos</p>
                    <small>MP4, WebM - Max 50MB each</small>
                    <input type="file" id="videoUpload" multiple accept="video/*">
                </div>
                
                <div class="gallery-manager" id="videoManager">
                    <!-- Video items will be populated here -->
                </div>
                
                <button class="btn btn-success" onclick="addSampleVideos()">
                    <i class="fas fa-plus"></i> Add Sample Videos
                </button>
            </div>

            <!-- Business Information -->
            <div class="admin-card">
                <h2><i class="fas fa-info-circle"></i> Business Information</h2>
                <div class="form-group">
                    <label for="businessName">Business Name</label>
                    <input type="text" id="businessName" value="Casa Madera">
                </div>
                <div class="form-group">
                    <label for="businessDescription">Description</label>
                    <textarea id="businessDescription" placeholder="Quality craftsmanship and custom woodworking services..."></textarea>
                </div>
                <div class="form-group">
                    <label for="serviceArea">Service Area</label>
                    <input type="text" id="serviceArea" placeholder="Nassau, Paradise Island, Cable Beach...">
                </div>
                <button class="btn" onclick="saveBusinessInfo()">
                    <i class="fas fa-save"></i> Save Business Info
                </button>
                <div class="success-message" id="businessSuccess">Business information updated successfully!</div>
            </div>

            <!-- Inbox -->
            <div class="admin-card">
                <h2><i class="fas fa-inbox"></i> Inbox <span id="inboxCount" style="background: #28a745; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.8rem; margin-left: 10px;">0</span></h2>
                <div id="inquiriesList">
                    <p style="color: #6c757d; text-align: center; padding: 20px;">No inquiries yet</p>
                </div>
                <button class="btn btn-danger" onclick="clearAllInquiries()" style="margin-top: 15px;">
                    <i class="fas fa-trash"></i> Clear All Inquiries
                </button>
            </div>

            <!-- Email Settings -->
            <div class="admin-card">
                <h2><i class="fas fa-envelope-open"></i> Email Settings</h2>
                <div class="form-group">
                    <label for="receiveEmail">Your Email (for receiving inquiries)</label>
                    <input type="email" id="receiveEmail" placeholder="youremail@example.com">
                </div>
                <div class="form-group">
                    <label for="emailService">Email Service</label>
                    <select id="emailService">
                        <option value="emailjs">EmailJS (Recommended)</option>
                        <option value="formspree">Formspree</option>
                        <option value="netlify">Netlify Forms</option>
                    </select>
                </div>
                <button class="btn" onclick="saveEmailSettings()">
                    <i class="fas fa-save"></i> Save Email Settings
                </button>
                <div class="success-message" id="emailSuccess">Email settings updated successfully!</div>
            </div>
            
            <!-- Social Media Links Management -->
            <div class="admin-card">
                <h2><i class="fab fa-facebook"></i> Social Media Links</h2>
                <p style="margin-bottom: 20px; color: #6c757d;">Manage your social media links that appear in the "Follow Our Work" section.</p>
                
                <div class="form-group">
                    <label for="facebookUrl"><i class="fab fa-facebook"></i> Facebook Page URL</label>
                    <input type="url" id="facebookUrl" placeholder="https://www.facebook.com/yourpage">
                    <small style="color: #6c757d;">Enter your complete Facebook page URL</small>
                </div>
                
                <div class="form-group">
                    <label for="instagramUrl"><i class="fab fa-instagram"></i> Instagram Profile URL</label>
                    <input type="url" id="instagramUrl" placeholder="https://www.instagram.com/yourprofile">
                    <small style="color: #6c757d;">Enter your complete Instagram profile URL</small>
                </div>
                
                <div class="form-group">
                    <label for="youtubeUrl"><i class="fab fa-youtube"></i> YouTube Channel URL</label>
                    <input type="url" id="youtubeUrl" placeholder="https://www.youtube.com/channel/yourchannel">
                    <small style="color: #6c757d;">Enter your YouTube channel URL (optional)</small>
                </div>
                
                <div class="form-group">
                    <label for="whatsappNumber"><i class="fab fa-whatsapp"></i> WhatsApp Business Number</label>
                    <input type="tel" id="whatsappNumber" placeholder="+1-242-000-0000">
                    <small style="color: #6c757d;">Enter your WhatsApp business number with country code</small>
                </div>
                
                <div class="form-group">
                    <label for="tiktokUrl"><i class="fab fa-tiktok"></i> TikTok Profile URL (Optional)</label>
                    <input type="url" id="tiktokUrl" placeholder="https://www.tiktok.com/@yourprofile">
                    <small style="color: #6c757d;">Enter your TikTok profile URL if you have one</small>
                </div>
                
                <div class="form-group">
                    <label for="linkedinUrl"><i class="fab fa-linkedin"></i> LinkedIn Profile URL (Optional)</label>
                    <input type="url" id="linkedinUrl" placeholder="https://www.linkedin.com/in/yourprofile">
                    <small style="color: #6c757d;">Enter your LinkedIn profile URL if you have one</small>
                </div>
                
                <button class="btn" onclick="saveSocialMediaLinks()">
                    <i class="fas fa-save"></i> Save Social Media Links
                </button>
                <div class="success-message" id="socialSuccess">Social media links updated successfully!</div>
                
                <div class="social-preview" style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
                    <h4><i class="fas fa-eye"></i> Preview</h4>
                    <p style="margin-bottom: 10px; color: #6c757d;">This is how your social links will appear on the website:</p>
                    <div class="social-icons-preview" id="socialPreview">
                        <span style="color: #6c757d; font-style: italic;">Configure your social media links above to see preview</span>
                    </div>
                </div>
            </div>
            
            <!-- Map & Location Management -->
            <div class="admin-card" style="grid-column: 1 / -1;">
                <h2><i class="fas fa-map-marked-alt"></i> Service Area Map</h2>
                <p style="margin-bottom: 20px; color: #6c757d;">Pin the locations where you provide services throughout The Bahamas.</p>
                
                <div class="map-management">
                    <div class="map-container" id="bahamasMap">
                        <!-- Interactive map will be here -->
                    </div>
                    
                    <div class="location-pins">
                        <h4><i class="fas fa-thumbtack"></i> Your Service Locations</h4>
                        <div id="locationList">
                            <p style="color: #6c757d; text-align: center; padding: 20px;">No locations pinned yet</p>
                        </div>
                        
                        <div class="add-location">
                            <h5>Add New Service Location</h5>
                            <div class="form-group">
                                <label for="locationName">Location Name</label>
                                <input type="text" id="locationName" placeholder="e.g., Nassau, Paradise Island">
                            </div>
                            <div class="form-group">
                                <label for="locationDescription">Description (Optional)</label>
                                <input type="text" id="locationDescription" placeholder="e.g., Downtown area, Cable Beach">
                            </div>
                            <button class="btn" onclick="addServiceLocation()">
                                <i class="fas fa-plus"></i> Add Location Pin
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="email-preview">
                    <strong>Email Preview:</strong><br>
                    From: Casa Madera Website Contact Form<br>
                    To: <span id="emailPreview">youremail@example.com</span><br>
                    Subject: New Inquiry from Casa Madera Website
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="admin-card">
                <h2><i class="fas fa-lightning-bolt"></i> Quick Actions</h2>
                <div style="display: grid; gap: 15px;">
                    <button class="btn" onclick="exportData()">
                        <i class="fas fa-download"></i> Export Website Data
                    </button>
                    <button class="btn btn-success" onclick="backupWebsite()">
                        <i class="fas fa-shield-alt"></i> Create Backup
                    </button>
                    <button class="btn" onclick="previewWebsite()">
                        <i class="fas fa-external-link-alt"></i> Preview Website
                    </button>
                    <button class="btn btn-danger" onclick="clearAllData()">
                        <i class="fas fa-trash"></i> Clear All Data
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Check authentication on page load
        if (sessionStorage.getItem('adminLoggedIn') !== 'true') {
            window.location.href = 'admin-login.html';
        }

        // Load saved data on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadSavedData();
            updateStats();
        });

        // Save Contact Information
        function saveContactInfo() {
            const phone = document.getElementById('businessPhone').value;
            const email = document.getElementById('businessEmail').value;
            const location = document.getElementById('businessLocation').value;
            
            localStorage.setItem('casa_contact_phone', phone);
            localStorage.setItem('casa_contact_email', email);
            localStorage.setItem('casa_contact_location', location);
            
            showSuccess('contactSuccess');
            updateMainWebsite();
        }

        // Save Business Information
        function saveBusinessInfo() {
            const name = document.getElementById('businessName').value;
            const description = document.getElementById('businessDescription').value;
            const serviceArea = document.getElementById('serviceArea').value;
            
            localStorage.setItem('casa_business_name', name);
            localStorage.setItem('casa_business_description', description);
            localStorage.setItem('casa_business_service_area', serviceArea);
            
            showSuccess('businessSuccess');
            updateMainWebsite();
        }

        // Save Email Settings
        function saveEmailSettings() {
            const receiveEmail = document.getElementById('receiveEmail').value;
            const emailService = document.getElementById('emailService').value;
            
            localStorage.setItem('casa_receive_email', receiveEmail);
            localStorage.setItem('casa_email_service', emailService);
            
            document.getElementById('emailPreview').textContent = receiveEmail;
            
            showSuccess('emailSuccess');
            setupEmailService();
        }

        // Image Upload Handler
        document.getElementById('imageUpload').addEventListener('change', function(e) {
            const files = e.target.files;
            for (let file of files) {
                if (file.type.startsWith('image/') && file.size <= 5 * 1024 * 1024) { // 5MB limit
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        addImageToGallery(e.target.result, file.name);
                    };
                    reader.readAsDataURL(file);
                }
            }
        });

        // Video Upload Handler
        document.getElementById('videoUpload').addEventListener('change', function(e) {
            const files = e.target.files;
            for (let file of files) {
                if (file.type.startsWith('video/') && file.size <= 50 * 1024 * 1024) { // 50MB limit
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        addVideoToGallery(e.target.result, file.name);
                    };
                    reader.readAsDataURL(file);
                }
            }
        });

        // Add image to gallery
        function addImageToGallery(src, name) {
            const galleryManager = document.getElementById('galleryManager');
            const item = document.createElement('div');
            item.className = 'gallery-item';
            item.innerHTML = `
                <img src="${src}" alt="${name}">
                <button class="remove-btn" onclick="removeGalleryItem(this)">×</button>
            `;
            galleryManager.appendChild(item);
            
            // Save to localStorage
            const savedImages = JSON.parse(localStorage.getItem('casa_gallery_images') || '[]');
            savedImages.push({src, name});
            localStorage.setItem('casa_gallery_images', JSON.stringify(savedImages));
            
            updateStats();
        }

        // Add video to gallery
        function addVideoToGallery(src, name) {
            const videoManager = document.getElementById('videoManager');
            const item = document.createElement('div');
            item.className = 'gallery-item';
            item.innerHTML = `
                <video src="${src}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 8px;"></video>
                <button class="remove-btn" onclick="removeVideoItem(this)">×</button>
            `;
            videoManager.appendChild(item);
            
            // Save to localStorage
            const savedVideos = JSON.parse(localStorage.getItem('casa_gallery_videos') || '[]');
            savedVideos.push({src, name});
            localStorage.setItem('casa_gallery_videos', JSON.stringify(savedVideos));
            
            updateStats();
        }

        // Remove gallery item
        function removeGalleryItem(btn) {
            const item = btn.parentElement;
            const img = item.querySelector('img');
            const src = img.src;
            
            // Remove from localStorage
            const savedImages = JSON.parse(localStorage.getItem('casa_gallery_images') || '[]');
            const updatedImages = savedImages.filter(image => image.src !== src);
            localStorage.setItem('casa_gallery_images', JSON.stringify(updatedImages));
            
            item.remove();
            updateStats();
        }

        // Remove video item
        function removeVideoItem(btn) {
            const item = btn.parentElement;
            const video = item.querySelector('video');
            const src = video.src;
            
            // Remove from localStorage
            const savedVideos = JSON.parse(localStorage.getItem('casa_gallery_videos') || '[]');
            const updatedVideos = savedVideos.filter(video => video.src !== src);
            localStorage.setItem('casa_gallery_videos', JSON.stringify(updatedVideos));
            
            item.remove();
            updateStats();
        }

        // Add sample images
        function addSampleImages() {
            const sampleImages = [
                'data:image/svg+xml;base64,' + btoa('<svg width="300" height="300" xmlns="http://www.w3.org/2000/svg"><rect width="100%" height="100%" fill="#007acc"/><text x="50%" y="50%" font-family="Arial" font-size="20" fill="white" text-anchor="middle" dominant-baseline="middle">Custom Table</text></svg>'),
                'data:image/svg+xml;base64,' + btoa('<svg width="300" height="300" xmlns="http://www.w3.org/2000/svg"><rect width="100%" height="100%" fill="#40b5d8"/><text x="50%" y="50%" font-family="Arial" font-size="18" fill="white" text-anchor="middle" dominant-baseline="middle">Kitchen Cabinets</text></svg>'),
                'data:image/svg+xml;base64,' + btoa('<svg width="300" height="300" xmlns="http://www.w3.org/2000/svg"><rect width="100%" height="100%" fill="#ff6b47"/><text x="50%" y="50%" font-family="Arial" font-size="20" fill="white" text-anchor="middle" dominant-baseline="middle">Dining Set</text></svg>')
            ];
            
            sampleImages.forEach((src, index) => {
                addImageToGallery(src, `Sample ${index + 1}`);
            });
        }

        // Add sample videos
        function addSampleVideos() {
            const sampleVideo = 'data:image/svg+xml;base64,' + btoa('<svg width="300" height="200" xmlns="http://www.w3.org/2000/svg"><rect width="100%" height="100%" fill="#343a40"/><circle cx="150" cy="100" r="30" fill="#007acc"/><polygon points="140,85 165,100 140,115" fill="white"/><text x="50%" y="140" font-family="Arial" font-size="16" fill="white" text-anchor="middle">Sample Video</text></svg>');
            addVideoToGallery(sampleVideo, 'Sample Video');
        }

        // Load saved data
        function loadSavedData() {
            // Load contact info
            document.getElementById('businessPhone').value = localStorage.getItem('casa_contact_phone') || '';
            document.getElementById('businessEmail').value = localStorage.getItem('casa_contact_email') || '';
            document.getElementById('businessLocation').value = localStorage.getItem('casa_contact_location') || '';
            
            // Load business info
            document.getElementById('businessName').value = localStorage.getItem('casa_business_name') || 'Casa Madera';
            document.getElementById('businessDescription').value = localStorage.getItem('casa_business_description') || '';
            document.getElementById('serviceArea').value = localStorage.getItem('casa_business_service_area') || '';
            
            // Load email settings
            document.getElementById('receiveEmail').value = localStorage.getItem('casa_receive_email') || '';
            document.getElementById('emailService').value = localStorage.getItem('casa_email_service') || 'emailjs';
            document.getElementById('emailPreview').textContent = localStorage.getItem('casa_receive_email') || 'youremail@example.com';
            
            // Load social media links
            document.getElementById('facebookUrl').value = localStorage.getItem('casa_social_facebook') || '';
            document.getElementById('instagramUrl').value = localStorage.getItem('casa_social_instagram') || '';
            document.getElementById('youtubeUrl').value = localStorage.getItem('casa_social_youtube') || '';
            document.getElementById('whatsappNumber').value = localStorage.getItem('casa_social_whatsapp') || '';
            document.getElementById('tiktokUrl').value = localStorage.getItem('casa_social_tiktok') || '';
            document.getElementById('linkedinUrl').value = localStorage.getItem('casa_social_linkedin') || '';
            
            // Update social media preview
            updateSocialPreview();
            
            // Load gallery images
            const savedImages = JSON.parse(localStorage.getItem('casa_gallery_images') || '[]');
            savedImages.forEach(image => {
                const galleryManager = document.getElementById('galleryManager');
                const item = document.createElement('div');
                item.className = 'gallery-item';
                item.innerHTML = `
                    <img src="${image.src}" alt="${image.name}">
                    <button class="remove-btn" onclick="removeGalleryItem(this)">×</button>
                `;
                galleryManager.appendChild(item);
            });
            
            // Load gallery videos
            const savedVideos = JSON.parse(localStorage.getItem('casa_gallery_videos') || '[]');
            savedVideos.forEach(video => {
                const videoManager = document.getElementById('videoManager');
                const item = document.createElement('div');
                item.className = 'gallery-item';
                item.innerHTML = `
                    <video src="${video.src}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 8px;"></video>
                    <button class="remove-btn" onclick="removeVideoItem(this)">×</button>
                `;
                videoManager.appendChild(item);
            });
        }

        // Update statistics
        function updateStats() {
            const imageCount = JSON.parse(localStorage.getItem('casa_gallery_images') || '[]').length;
            const videoCount = JSON.parse(localStorage.getItem('casa_gallery_videos') || '[]').length;
            const inquiries = JSON.parse(localStorage.getItem('casa_inquiries') || '[]');
            
            // Filter inquiries from today
            const today = new Date().toISOString().split('T')[0];
            const todayInquiries = inquiries.filter(inquiry => 
                inquiry.timestamp && inquiry.timestamp.split('T')[0] === today
            );
            
            document.getElementById('galleryCount').textContent = imageCount;
            document.getElementById('videoCount').textContent = videoCount;
            document.getElementById('inquiryCount').textContent = todayInquiries.length;
            
            // Update inbox
            updateInbox();
        }
        
        // Update inbox display
        function updateInbox() {
            const inquiries = JSON.parse(localStorage.getItem('casa_inquiries') || '[]');
            const inquiriesList = document.getElementById('inquiriesList');
            const inboxCount = document.getElementById('inboxCount');
            
            inboxCount.textContent = inquiries.length;
            
            if (inquiries.length === 0) {
                inquiriesList.innerHTML = '<p style="color: #6c757d; text-align: center; padding: 20px;">No inquiries yet</p>';
                return;
            }
            
            inquiriesList.innerHTML = inquiries.map(inquiry => `
                <div class="inquiry-item">
                    <div class="inquiry-header">
                        <div class="inquiry-name">${inquiry.name}</div>
                        <div class="inquiry-date">${new Date(inquiry.timestamp).toLocaleString()}</div>
                    </div>
                    <div class="inquiry-details">
                        <div><strong>Email:</strong> ${inquiry.email}</div>
                        <div><strong>Phone:</strong> ${inquiry.phone || 'Not provided'}</div>
                        <div><strong>Location:</strong> ${inquiry.location || 'Not provided'}</div>
                        <div><strong>Service:</strong> ${inquiry.service || 'Not specified'}</div>
                        <div><strong>Budget:</strong> ${inquiry.budget || 'Not specified'}</div>
                    </div>
                    <div class="inquiry-message">
                        <strong>Message:</strong><br>
                        ${inquiry.message}
                    </div>
                    <div class="inquiry-actions">
                        <button class="btn btn-sm" onclick="replyToInquiry('${inquiry.email}', '${inquiry.name}')">
                            <i class="fas fa-reply"></i> Reply
                        </button>
                        <button class="btn btn-danger btn-sm" onclick="deleteInquiry('${inquiry.id}')" style="margin-left: 10px;">
                            <i class="fas fa-trash"></i> Delete
                        </button>
                    </div>
                </div>
            `).join('');
        }
        
        // Reply to inquiry (opens email client)
        function replyToInquiry(email, name) {
            const subject = encodeURIComponent('Re: Your Casa Madera Inquiry');
            const body = encodeURIComponent(`Hello ${name},\n\nThank you for your interest in Casa Madera. \n\nBest regards,\nCasa Madera Team`);
            window.open(`mailto:${email}?subject=${subject}&body=${body}`);
        }
        
        // Delete single inquiry
        function deleteInquiry(inquiryId) {
            if (confirm('Are you sure you want to delete this inquiry?')) {
                const inquiries = JSON.parse(localStorage.getItem('casa_inquiries') || '[]');
                const updatedInquiries = inquiries.filter(inquiry => inquiry.id !== inquiryId);
                localStorage.setItem('casa_inquiries', JSON.stringify(updatedInquiries));
                updateStats();
            }
        }
        
        // Clear all inquiries
        function clearAllInquiries() {
            if (confirm('Are you sure you want to delete ALL inquiries? This cannot be undone.')) {
                localStorage.removeItem('casa_inquiries');
                updateStats();
            }
        }
        
        // Save Social Media Links
        function saveSocialMediaLinks() {
            const facebook = document.getElementById('facebookUrl').value.trim();
            const instagram = document.getElementById('instagramUrl').value.trim();
            const youtube = document.getElementById('youtubeUrl').value.trim();
            const whatsapp = document.getElementById('whatsappNumber').value.trim();
            const tiktok = document.getElementById('tiktokUrl').value.trim();
            const linkedin = document.getElementById('linkedinUrl').value.trim();
            
            // Save to localStorage
            localStorage.setItem('casa_social_facebook', facebook);
            localStorage.setItem('casa_social_instagram', instagram);
            localStorage.setItem('casa_social_youtube', youtube);
            localStorage.setItem('casa_social_whatsapp', whatsapp);
            localStorage.setItem('casa_social_tiktok', tiktok);
            localStorage.setItem('casa_social_linkedin', linkedin);
            
            // Show success message
            showSuccess('socialSuccess');
            
            // Update preview
            updateSocialPreview();
            
            // Update main website
            updateMainWebsiteSocial();
            
            console.log('Social media links saved successfully');
        }
        
        // Update social media preview
        function updateSocialPreview() {
            const facebook = localStorage.getItem('casa_social_facebook');
            const instagram = localStorage.getItem('casa_social_instagram');
            const youtube = localStorage.getItem('casa_social_youtube');
            const whatsapp = localStorage.getItem('casa_social_whatsapp');
            const tiktok = localStorage.getItem('casa_social_tiktok');
            const linkedin = localStorage.getItem('casa_social_linkedin');
            
            const preview = document.getElementById('socialPreview');
            let previewHTML = '';
            
            const iconStyle = 'display: inline-block; margin-right: 15px; padding: 8px; background: #007acc; color: white; border-radius: 50%; width: 40px; height: 40px; text-align: center; line-height: 24px; text-decoration: none;';
            
            if (facebook) {
                previewHTML += `<a href="${facebook}" style="${iconStyle} background: #1877f2;" target="_blank"><i class="fab fa-facebook"></i></a>`;
            }
            if (instagram) {
                previewHTML += `<a href="${instagram}" style="${iconStyle} background: linear-gradient(45deg, #405de6, #5851db, #833ab4, #c13584, #e1306c, #fd1d1d);" target="_blank"><i class="fab fa-instagram"></i></a>`;
            }
            if (youtube) {
                previewHTML += `<a href="${youtube}" style="${iconStyle} background: #ff0000;" target="_blank"><i class="fab fa-youtube"></i></a>`;
            }
            if (whatsapp) {
                const whatsappLink = whatsapp.startsWith('http') ? whatsapp : `https://wa.me/${whatsapp.replace(/[^0-9]/g, '')}`;
                previewHTML += `<a href="${whatsappLink}" style="${iconStyle} background: #25d366;" target="_blank"><i class="fab fa-whatsapp"></i></a>`;
            }
            if (tiktok) {
                previewHTML += `<a href="${tiktok}" style="${iconStyle} background: #000000;" target="_blank"><i class="fab fa-tiktok"></i></a>`;
            }
            if (linkedin) {
                previewHTML += `<a href="${linkedin}" style="${iconStyle} background: #0a66c2;" target="_blank"><i class="fab fa-linkedin"></i></a>`;
            }
            
            if (previewHTML === '') {
                preview.innerHTML = '<span style="color: #6c757d; font-style: italic;">Configure your social media links above to see preview</span>';
            } else {
                preview.innerHTML = previewHTML;
            }
        }
        
        // Update main website social links (placeholder for now)
        function updateMainWebsiteSocial() {
            console.log('Main website social links updated - changes will appear on the website');
        }

        // Show success message
        function showSuccess(elementId) {
            const element = document.getElementById(elementId);
            element.style.display = 'block';
            setTimeout(() => {
                element.style.display = 'none';
            }, 3000);
        }

        // Update main website (this would integrate with your main site)
        function updateMainWebsite() {
            // This function would push changes to the main website
            console.log('Website updated with new data');
        }

        // Setup email service
        function setupEmailService() {
            const service = localStorage.getItem('casa_email_service');
            console.log(`Email service configured: ${service}`);
        }

        // Quick Actions
        function exportData() {
            const data = {
                contact: {
                    phone: localStorage.getItem('casa_contact_phone'),
                    email: localStorage.getItem('casa_contact_email'),
                    location: localStorage.getItem('casa_contact_location')
                },
                business: {
                    name: localStorage.getItem('casa_business_name'),
                    description: localStorage.getItem('casa_business_description'),
                    serviceArea: localStorage.getItem('casa_business_service_area')
                },
                email: {
                    receiveEmail: localStorage.getItem('casa_receive_email'),
                    service: localStorage.getItem('casa_email_service')
                },
                gallery: {
                    images: JSON.parse(localStorage.getItem('casa_gallery_images') || '[]'),
                    videos: JSON.parse(localStorage.getItem('casa_gallery_videos') || '[]')
                }
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], {type: 'application/json'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'casa-madera-data.json';
            a.click();
        }

        function backupWebsite() {
            alert('Backup created successfully! Your data is safely stored.');
        }

        function previewWebsite() {
            window.open('index.html', '_blank');
        }

        function clearAllData() {
            if (confirm('Are you sure you want to clear all data? This cannot be undone!')) {
                localStorage.clear();
                location.reload();
            }
        }

        // Logout function
        function logout() {
            sessionStorage.removeItem('adminLoggedIn');
            sessionStorage.removeItem('loginTime');
            window.location.href = 'admin-login.html';
        }

        // Auto-logout after 2 hours of inactivity
        let lastActivity = new Date().getTime();
        
        document.addEventListener('click', () => {
            lastActivity = new Date().getTime();
        });
        
        setInterval(() => {
            const currentTime = new Date().getTime();
            const inactiveTime = currentTime - lastActivity;
            const maxInactiveTime = 2 * 60 * 60 * 1000; // 2 hours
            
            if (inactiveTime > maxInactiveTime) {
                logout();
            }
        }, 60000); // Check every minute
    </script>
    
    <!-- Additional Admin Functions -->
    <script src="assets/js/admin-functions.js"></script>
</body>
</html>
